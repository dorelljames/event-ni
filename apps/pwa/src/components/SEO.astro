---
import { defaultSEO } from "../config/seo";

interface Props {
  title?: string;
  description?: string;
  image?: string;
  type?: string;
  noindex?: boolean;
  nofollow?: boolean;
}

const {
  title = defaultSEO.defaultTitle,
  description = defaultSEO.defaultDescription,
  image = defaultSEO.defaultImage,
  type = "website",
  noindex = false,
  nofollow = false,
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, defaultSEO.siteUrl);
const imageURL = new URL(image, defaultSEO.siteUrl);
---

<!-- Primary Meta Tags -->
<title>{title}</title>
<meta name="title" content={title} />
<meta name="description" content={description} />
<link rel="canonical" href={canonicalURL} />

<!-- Robots -->
{
  noindex && (
    <meta
      name="robots"
      content={`${noindex ? "noindex" : "index"},${nofollow ? "nofollow" : "follow"}`}
    />
  )
}

<!-- Open Graph / Facebook -->
<meta property="og:type" content={type} />
<meta property="og:url" content={canonicalURL} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={imageURL} />
<meta property="og:site_name" content={defaultSEO.siteName} />

<!-- Twitter -->
<meta property="twitter:card" content={defaultSEO.twitter.cardType} />
<meta property="twitter:url" content={canonicalURL} />
<meta property="twitter:title" content={title} />
<meta property="twitter:description" content={description} />
<meta property="twitter:image" content={imageURL} />
<meta name="twitter:site" content={defaultSEO.twitter.site} />
<meta name="twitter:creator" content={defaultSEO.twitter.handle} />

